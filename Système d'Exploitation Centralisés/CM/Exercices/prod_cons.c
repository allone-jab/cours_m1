#define N 100 // SIZE BUFFER

int sem_occ = 0;

int sem_lib = N;

typedef int obj;

// PRODUCTEUR
void producteur() {
    for(;;) {
        obj obj = product_object();
        P(sem_lib);
        put_in_buffer();
        V(sem_occ);
    }
}

// CONSOMMATEUR
void consommateur() {
    for(;;) {
        P(sem_occ);
        obj obj = get_object_from_buffer();
        V(sem_lib);
        use_obj(obj);
    }
}