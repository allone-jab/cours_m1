# Communication Inter-Processus

## Solution de Peterson

`À DÉMONTER`

## Problème du producteur et du consommateur

```c
# define N 100

int cnt = 0;

// PRODUCTEUR
for(;;) {

    obj = product_object();
    if(cpt == N) sleep()
        cpt++;
        put_in_buffer();
    }
    if(cpt == 1) wakeup(C)
}

// CONSOMMATEUR
for(;;) {
    if(cpt == N)
        obj = get_object_from_buffer();
        wakeup(P)
    use_obj();
}
```

## Les sémaphores

```c
void P() {
    s > 0 ? s--: sleep;
}

void V() {
    s++;
}

// PRODUCTEUR
for(;;) {
    obj = product_object();
    put_in_buffer();
}

// CONSOMMATEUR
for(;;) {
    obj = get_object_from_buffer();
    use_obj();
}

```