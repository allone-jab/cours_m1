#ifndef PHILO_H
#define PHILO_H

#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>

#define creat_philo(num, func)\
    pthread_t th##num;\
    void *ret##num;\
    if (pthread_create (&th##num, NULL, func, #num) < 0) { \
        fprintf (stderr, "pthread_create error for thread "num"\n"); exit (1);\
}

#define join_philo(num, m) {\
    int prev = (num-1 < 0 )? m : num-1;\
    int next = (num+1 > m )? 0 : num+1;\
    pthread_join(&th##num, &ret##prev);\
    pthread_join(&th##num, &ret##next);\
}

#define usage() {fprintf(stderr, "./philo n\n\t n : number of philosophers\n");}

#endif